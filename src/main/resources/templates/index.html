<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Electricity Billing System</title>
  <link href="/assets/fontawesome-6.4.0/css/fontawesome.css" rel="stylesheet"> 
  <link href="/assets/fontawesome-6.4.0/css/brands.css" rel="stylesheet">
  <link href="/assets/fontawesome-6.4.0/css/solid.css" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/login.css">
</head>
<body>
	<div id="container" class="container">
		<!-- FORM SECTION -->
		<div class="row">
			<!-- SIGN UP -->
			<div class="col align-items-center flex-col sign-up">
				<div class="form-wrapper align-items-center">
					<div class="form sign-up">
						<form action="/createUser" method="post">
						<div class="input-group">
							<i class='fa-solid fa-file-signature'></i> 
							<input type="text" placeholder="Username" name="username" required>
						</div>
						<div class="input-group">
							<i class='fa-solid fa-user'></i> 
							<input type="text" placeholder="Name" name="name" required>
						</div>
						<div class="input-group">
							<i class='fa-solid fa-lock'></i> 
							<input type="password" placeholder="Password" id="password" name="password" required>
						</div>
						<div class="input-group">
							<i class='fa-solid fa-lock'></i> 
							<input type="password" placeholder="Confirm password" id="confirmPassword" name="confirmPassword" required>
						</div>
						<div class="">
							
							<label>Create Account As:</label>
							<input type="radio" name="userType" value="ROLE_CUSTOMER" checked>
							<label for="Customer">Customer</label>
							<input type="radio" name="userType" value="ROLE_ADMIN">
							<label for="Customer">Admin</label>
						</div>
						<div class="input-group meterNo">
							<i class="fa-brands fa-asymmetrik"></i>
							<input type="text" placeholder="Meter No" id="meterNo" name="meterNo" required>
						</div>
						<button id="signup">Sign up</button>
						</form>
						<p>
							<span> Already have an account? </span> <b onclick="toggle()"
								class="pointer"> Sign in here </b>
						</p>
					</div>
				</div>

			</div>
			<!-- END SIGN UP -->
			<!-- SIGN IN -->
			<div class="col align-items-center flex-col sign-in inner-box" id="card">
				<div class="form-wrapper align-items-center card-front">
					<div class="form sign-in">
						<form action="/login" method="post">
						
						<div class="successMsg">
						<span th:text="${successMessage}"></span>
						</div>
						<div class="failureMsg">
						<span th:text="${failureMessage}"></span>
						</div>
						<div class="error failureMsg" th:if="${param.error}"
						     th:with="errorMsg=${session['SPRING_SECURITY_LAST_EXCEPTION'].message}">
						    <span th:text="${errorMsg}"></span>
						</div>											
						<div class="input-group">
							<i class='fa-solid fa-file-signature'></i>  
							<input type="text" name="username" placeholder="Username" required>
						</div>
						<div class="input-group">
							<i class='fa-solid fa-lock'></i> 
							<input type="password" name="password" placeholder="Password" required>
						</div>
						<div class="">
							<i class='bx bx-mail-send'></i> 
							<label>Logging As:</label>
							<input type="radio" name="userType" value="ROLE_CUSTOMER" checked>
							<label for="Customer">Customer</label>
							<input type="radio" name="userType" value="ROLE_ADMIN">
							<label for="Customer"> Admin </label>
						</div>
						<button>Sign in</button>
						</form>
						<p>
							<b> <a href="#" onclick="openForgotPassword()">Forgot password?</a> </b>
						</p>
						<p>
							<span> Don't have an account? </span> <b onclick="toggle()"
								class="pointer"> Sign up here </b>
						</p>
					</div>
				</div>
				<div class="form-wrapper align-items-center card-back">
					<div class="form sign-in">
						<form action="/resetPassword" method="post">
							<div class="successMsg">
							<span th:text="${successMessage}"></span>
							</div>
							<div class="failureMsg">
							<span th:text="${failureMessage}"></span>
							</div>
							<div class="input-group">
								<i class='fa-solid fa-file-signature'></i>  
								<input type="text" name="username" placeholder="Username" required>
							</div>
							<div class="input-group">
								<i class='fa-solid fa-lock'></i> 
								<input type="password" placeholder="Password" id="restPassword" name="password" required>
							</div>
							<div class="input-group">
								<i class='fa-solid fa-lock'></i> 
								<input type="password" placeholder="Confirm password" id="resetConfirmPassword" name="confirmPassword" required>
							</div>
							<button>Reset Password</button>
						</form>
						<p>
							<b> <a href="#" onclick="openLogin()">Sign In</a> </b>
						</p>
						<p>
							<span> Don't have an account? </span> <b onclick="toggle()"
								class="pointer"> Sign up here </b>
						</p>
					</div>
				</div>
			</div>
			<!-- END SIGN IN -->
		</div>
		<!-- END FORM SECTION -->
		<!-- CONTENT SECTION -->
		<div class="row content-row">
			<!-- SIGN IN CONTENT -->
			<div class="col align-items-center flex-col">
				<div class="text sign-in">
					<h2>Welcome</h2>

				</div>
				<div class="img sign-in"></div>
			</div>
			<!-- END SIGN IN CONTENT -->
			<!-- SIGN UP CONTENT -->
			<div class="col align-items-center flex-col">
				<div class="img sign-up"></div>
				<div class="text sign-up">
					<h2>Join with us</h2>

				</div>
			</div>
			<!-- END SIGN UP CONTENT -->
		</div>
		<!-- END CONTENT SECTION -->
	</div>
</body>
<script type="text/javascript" src="/assets/js/jquery-3.6.4.js"></script>
<script type="text/javascript" src="/assets/js/login.js"></script>
</html>